<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recent Searches</title>
    <link rel="icon" type="image/x-icon" href="logo image.jpg">
    <link rel="shortcut icon" type="image/x-icon" href="logo image.jpg">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/009d561cd5.js" crossorigin="anonymous"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            background-color: #F0F0F0;
        }

        
        h1 {
            color: #333;
            margin-bottom: 20px;
        }

        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            height: 100%;
            width: 120px;
            background-color: #f8f9fa;
            padding: 20px;
            overflow-y: auto;
            margin-right: 10px;
        }

          .dropdown {
          position: relative;
          display: inline-block;
        }

        .dropdown:hover .dropdown-content {
          display: block;
        }

                .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            min-width: 80px;
            box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
            z-index: 1;
        }
        .dropdown-content a {
            color: black;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
        }

        .dropdown-content a:hover {
            background-color: #f1f1f1;
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        .logo img {
            max-width: 100%;
            margin-bottom: 5px;
        }

        .ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
            gap: 10px;
            width: 10px;
        }

        .ul li {
            display: inline-block;
        }

        .ul li a {
            display: block;
            padding: 10px;
            font-size: 18px;
            text-align: center;
            text-decoration: none;
            background-color: #f6f6f6;
            border: none;
            width: 10px;
        }

        .ul li a:hover {
            background-color: #eee;
        }

        .search-container {
            position: relative;
            display: flex; 
            align-items: center; 
            width: 300px;
        }

        #myInput {
            flex: 1; 
            font-size: 16px;
            padding: 12px 20px 12px 40px;
            border: 1px solid #ddd;
        }

        .search-icon,
        #profile {
            margin: 0 10px; 
            font-size: 20px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    
    <div class="sidebar">
        <!-- Menu items -->
        <a href="Homepage.html"> <img src="logo image.jpg" alt="Logo" style="height: 50px;"></a>
        <br><br><br><br><br><br>
        <div class="dropdown">
            <button class="dropbtn">‚ò∞</button>
            <div class="dropdown-content">
                <a href="ServiceDirectory.html">Service Directory</a>
                <a href="AboutUs.html">About Us</a>
                <a href="Contact.html">Contact Us</a>
                <!-- Add more menu items as needed -->
            </div>
        </div>
        <br><br><br><br><br><br>
        <a href="Recent.html">üïê</a>
        <br><br><br><br><br><br>
        <a href="information.html"><i class="fa-solid fa-circle-info"></i></a>
         <button id="locateUser" style="position: fixed; bottom: 2px; left: 10px; ">Locate Me</button>
    </div>

    <div style="margin-left: 140px; padding: 20px;">
        <h1>Recent Searches</h1>

         <div style="display: flex; align-items: center; margin-bottom: 20px;">
            <div style="position: relative; display: inline-block;">
                <input type="text" id="myInput" placeholder="Search.." oninput="updateSearchHistory()" style="padding-left: 30px; padding: 10px 10px 10px 30px; width: 300px; border: 1px solid #ddd; border-radius: 4px;">
                <div style="position: absolute; left: 10px; top: 50%; transform: translateY(-50%);" onclick="updateSearchHistory()">üîç</div>
            </div>
            <a href="profile.html" style="margin-left: 20px; font-size: 24px; text-decoration: none;">üë§</a>
        </div>
            
        <!-- Display recent searches here -->
        <div style="background-color: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); max-width: 600px;">
            <h3 style="margin-top: 0;">Your Recent Searches</h3>
            <ul id="searchHistory" style="list-style-type: none; padding: 0; margin: 0;">
                <!-- Search history entries will be dynamically added here -->
            </ul>
        </div>
        
        <script>
            // Function to update search history based on user input
            function updateSearchHistory() {
                const searchInput = document.getElementById("myInput").value;
                if (searchInput.trim() !== "") {
                    // Get existing search history from localStorage
                    let searchHistory = JSON.parse(localStorage.getItem('searchHistory')) || [];
                    
                    // Add the search input to the beginning if it's not already there
                    if (!searchHistory.includes(searchInput)) {
                        searchHistory.unshift(searchInput);
                        // Keep only the last 10 searches
                        searchHistory = searchHistory.slice(0, 10);
                        // Save to localStorage
                        localStorage.setItem('searchHistory', JSON.stringify(searchHistory));
                    }
                    
                    // Update the displayed search history
                    renderSearchHistory(searchHistory);
                }
            }

            // Function to render search history
            function renderSearchHistory(searchHistory) {
                const searchHistoryList = document.getElementById("searchHistory");

                // Clear existing entries
                searchHistoryList.innerHTML = "";

                if (searchHistory.length === 0) {
                    searchHistoryList.innerHTML = "<li style='color: #999;'>No recent searches</li>";
                    return;
                }

                // Add new entries
                searchHistory.forEach(entry => {
                    const listItem = document.createElement("li");
                    listItem.textContent = entry;
                    listItem.style.padding = "10px";
                    listItem.style.borderBottom = "1px solid #ddd";
                    listItem.style.cursor = "pointer";
                    
                    // Add click event to search again
                    listItem.onclick = function() {
                        document.getElementById("myInput").value = entry;
                    };
                    
                    searchHistoryList.appendChild(listItem);
                });
            }

            // Load and display search history on page load
            window.onload = function() {
                const searchHistory = JSON.parse(localStorage.getItem('searchHistory')) || [];
                renderSearchHistory(searchHistory);
            };
        </script>
    </div>
</body>
</html>
